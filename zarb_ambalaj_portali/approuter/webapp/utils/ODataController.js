sap.ui.define(["sap/ui/base/ManagedObject","sap/m/BusyDialog","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/m/MessageBox"],function(e,a,r,t,s){"use strict";return e.extend("com.app.abdiibrahim.zarbambalajportali.utils.ODataController",{handleODataErrors:function(e){var a=e.getOModel(e,"message").oData;var r="";a.forEach(function(e){if(e.message&&!e.message.includes("An exception was raised")){r+=e.message+"\n"}});if(r.trim()!==""){s.error(r)}},getList:function(e){var a="/AmbOrderListSet";var s=e.getOModel(e,"bm");var i=s.getData();var o=e.getOModel(e,"dm");var n=o.getData();var l=[];var u=e._main.getIcontabBarSelectedKey(e);var d=e.byId("smartFilterBar");if(d){l=d.getFilters()}l.push(new r("StatuFiori",t.EQ,u));var g=e.getOwnerComponent().getModel();e.openBusyDialog();g.read(a,{filters:l,success:function(a,r){e.closeBusyDialog();if(a&&a.results){e._main.setOrderList(e,a.results)}},error:function(a){e.closeBusyDialog();e._oData.handleODataErrors(e)}})}})});
//# sourceMappingURL=ODataController.js.map