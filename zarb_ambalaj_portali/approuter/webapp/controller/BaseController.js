sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/model/json/JSONModel","sap/m/MessageBox","com/app/abdiibrahim/zarbambalajportali/utils/DataModel"],function(e,t,a,o){"use strict";return e.extend("com.app.abdiibrahim.zarbambalajportali.controller.BaseController",{getOModel:function(e,t){return e.getView().getModel(t)},getCoreModel:function(e){return sap.ui.getCore().getModel(e)},getBusyDialog:function(){if(!this._busy){this._busy=new sap.m.BusyDialog}return this._busy},openBusyDialog:function(){this.getBusyDialog().open()},closeBusyDialog:function(){this.getBusyDialog().close()},setViewModel:function(e){e.addUtils(e);e._DataModel.createDM(e);e._DataModel.createPM(e);e._DataModel.createBM(e)},addUtils:function(e){this._DataModel=new o},onAddRow:function(e,t,a){var o=e.getOModel(e,"dm");var r=o.getData()[t];var i=o.getData()[a];var n=jQuery.extend(true,{},i);r.push(n);o.getData()[t]=r;o.refresh()},onAddRowImportOperationItemTable(e,t,a){var o=e.getOModel(e,"dm");var r=o.getData()[t];var i=o.getData()[a];var n=jQuery.extend(true,{},i);n.Waers="AZN";r.push(n);o.getData()[t]=r;o.refresh()},onAddRowPoDetailTable:function(e,t,a,o){var r=e.getOModel(e,"dm");var i=r.getData()[t][a];var n=r.getData()[o];var s=jQuery.extend(true,{},n);i.push(s);r.getData()[t][a]=i;r.refresh()},onDeleteRowPoDetailTable:function(e,t,a,o){debugger;var r=e.getOModel(e,"dm");var i=r.getData()[t][a];var n=e.getView().byId(o)._aSelectedPaths;n.sort();for(var s=n.length;s>0;s--){var g=s-1;var l=n[g];var c=l.split("/")[3];i.splice(c,1)}e.getView().byId(o).removeSelections();r.refresh()},onDeleteRow:function(e,t){debugger;var a=e.getOModel(e,"dm");var o=a.getData()[t];var r=e.getView().byId(t)._aSelectedPaths;for(var i=r.length;i>0;i--){var n=i-1;var s=r[n];var g=s.split("/")[2];o.splice(g,1)}e.getView().byId(t).removeSelections();a.refresh()},onDeleteRowFromFragment:function(e,t,a,o){debugger;var r=e.getOModel(e,"dm");var i=r.getData()[t];var n=sap.ui.core.Fragment.byId(o,a)._aSelectedPaths;for(var s=n.length;s>0;s--){var g=s-1;var l=n[g];var c=l.split("/")[2];i.splice(c,1)}sap.ui.core.Fragment.byId(o,a).removeSelections();r.refresh()},setMessagePopover:function(e){var t=sap.ui.getCore().getMessageManager();e.getView().setModel(t.getMessageModel(),"message");t.registerObject(e.getView(),true)},_getMessagePopover:function(e){if(!e._oMessagePopover){e._oMessagePopover=sap.ui.xmlfragment("com.app.abdiibrahim.zarbambalajportali.view.fragments.messagePopover",this);e.getView().addDependent(e._oMessagePopover)}return e._oMessagePopover},openMessagePopover:function(e){e._getMessagePopover(e).openBy(e.getView().byId("btnMPopover"))},showMessage:function(e,t){var o=this.getView().getModel("i18n").getResourceBundle();var r=o.getText(t);switch(e){case"success":a.success(r);break;case"information":a.information(r);break;case"error":a.error(r);break;default:break}},confirmMessage:function(e,t){var o=e.getView().getModel("i18n").getResourceBundle();a.show(o.getText(t),{icon:a.Icon.Warning,actions:[a.Action.OK,a.Action.CANCEL],title:o.getText(t+"Title"),onClose:function(o){if(o===a.Action.OK){e.ActionOk(e,t)}else if(o===a.Action.CANCEL){e.ActionCancel(e,t)}}})},confirmMessageResponse:function(e,t,o){var r=e.getView().getModel("i18n").getResourceBundle();a.show(r.getText(t),{icon:a.Icon.Warning,actions:[a.Action.OK,a.Action.CANCEL],title:r.getText("titleConfirm"),onClose:function(t){if(t===a.Action.OK){o(e,a.Action.OK)}else if(t===a.Action.CANCEL){o(e,a.Action.CANCEL)}}})},confirmMessageWithActonResponse:function(e,t,o,r){var i=e.getView().getModel("i18n").getResourceBundle();a.show(i.getText(t),{icon:a.Icon.Warning,actions:[a.Action.OK,a.Action.CANCEL],title:i.getText("titleConfirm"),onClose:function(t){if(t===a.Action.OK){o(e,a.Action.OK,r)}else if(t===a.Action.CANCEL){o(e,a.Action.CANCEL)}}})},setValueState:function(e,t,a,o){var r=e.getView();var i=e.getView().getModel("i18n").getResourceBundle();switch(a){case"error":r.byId(t).setValueState(sap.ui.core.ValueState.Error);r.byId(t).setValueStateText(i.getText(o));break;case"OK":r.byId(t).setValueState(sap.ui.core.ValueState.None);break;default:break}},numericOnly:function(e){var t=e.getSource();var a=t.getValue();a=a.replace(/[^\d]/g,"");t.setValue(a)},getValue:function(e,t,a){var o=e.getOModel(e,"dm");return o.getData()[t][a]},setValue:function(e,t,a,o){var r=e.getOModel(e,"dm");r.getData()[t][a]=o;r.refresh()},setCoreValue:function(e,t,a,o){var r=e.getCoreModel("dm");r.getData()[t][a]=o;r.refresh()},setCorePmModel:function(e,t,a,o,r){var i=e.getCoreModel("pm");i.getData()[t][a][o]=r;i.refresh()},setElementValue:function(e,t,a){e.getView().getElementBinding().getModel().mChangedEntities["SmartFieldSet('1')"][t]=a},getElementValue:function(e,t){return e.getView().getElementBinding().getModel().mChangedEntities["SmartFieldSet('1')"][t]},getVisibility:function(e,t,a){var o=e.getOModel(e,"pm");return o.getData()["visibles"][t][a]},setVisibility:function(e,t,a,o){var r=e.getOModel(e,"pm");r.getData()["visibles"][t][a]=o;r.refresh()},setEditibility:function(e,t,a){var o=e.getOModel(e,"pm");o.getData()["editable"][t]=a;o.refresh()},setLabel:function(e,t,a){var o=e.getOModel(e,"pm");var r=e.getView().getModel("i18n").getResourceBundle();var i=r.getText(a);o.getData()["Label"][t]=i;o.refresh()},getViewThat:function(){return this._that},resetSmartField:function(e){debugger;e.getView().getElementBinding().getModel().mChangedEntities["SmartFieldSet('1')"]={};e.getView().getElementBinding().getModel().refresh();e.setElementValue(e,"Ekgrp"," ");e.setElementValue(e,"Teklifkarsilastirmastatu"," ")},clearMessages:function(e){var t=e.getOModel(e,"message");if(t){t.oData=[];t.refresh()}e.MessagePopover=sap.ui.getCore().getMessageManager();e.MessagePopover.removeAllMessages()}})});
//# sourceMappingURL=BaseController.js.map